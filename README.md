# The gossip project rails

Le retour de l'application des potins avec une implémentation rails !

## Schema de la base de données

[![](https://mermaid.ink/img/eyJjb2RlIjoiZXJEaWFncmFtXG4gICAgICAgICAgY2l0aWVzIHx8LS1veyB1c2VyczogYmVsb25nc190b1xuICAgICAgICAgIGNpdGllc3tcbiAgICAgICAgICBpbnRlZ2VyIGlkX1BLXG4gICAgICAgICAgc3RyaW5nIG5hbWVcbiAgICAgICAgICBzdHJpbmcgemlwX2NvZGVcbiAgICAgICAgICB9XG4gICAgICAgICAgdXNlcnMgfHwtLW97IGdvc3NpcHM6IGJlbG9uZ3NfdG9cbiAgICAgICAgICB1c2Vyc3tcbiAgICAgICAgICBpbnRlZ2VyIGlkX1BLXG4gICAgICAgICAgc3RyaW5nIGZpcnN0X25hbWVcbiAgICAgICAgICBzdHJpbmcgbGFzdF9uYW1lXG4gICAgICAgICAgdGV4dCBkZXNjcmlwdGlvblxuICAgICAgICAgIGludGVnZXIgYWdlXG4gICAgICAgICAgaW50ZWdlciBjaXR5X2lkX0ZLXG4gICAgICAgICAgfVxuICAgICAgICAgIGdvc3NpcHMgfHwtLW97IGNvbW1lbnRzOiBwb2x5bW9ycGhpc21cbiAgICAgICAgICBnb3NzaXBze1xuICAgICAgICAgIGludGVnZXIgaWRfUEtcbiAgICAgICAgICBzdHJpbmcgdGl0bGVcbiAgICAgICAgICB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICBpbnRlZ2VyIHVzZXJfaWRfRktcbiAgICAgICAgICBpbnRlZ2VyIHRhZ19pZF9GS1xuICAgICAgICAgIH1cbiAgICAgICAgICB1c2VycyB8fC0tb3sgY29tbWVudHM6IGJlbG9uZ3NfdG9cbiAgICAgICAgICBnb3NzaXBzIHx8LS1veyBsaWtlczogYmVsb25nc190b1xuICAgICAgICAgIGNvbW1lbnRzIHx8LS1veyBsaWtlczogYmVsb25nc190b1xuICAgICAgICAgIGNvbW1lbnRze1xuICAgICAgICAgIGludGVnZXIgaWRfUEtcbiAgICAgICAgICB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICBpbnRlZ2VyIGdvc3NpcF9pZF9GS1xuICAgICAgICAgIGludGVnZXIgdXNlcl9pZF9GS1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb21tZW50cyB8fC0tb3sgY29tbWVudHM6IHBvbHltb3JwaGlzbVxuICAgICAgICAgIHRhZ3MgfHwtLW97IGdvc3NpcHM6IGJlbG9uZ3NfdG9cbiAgICAgICAgICB0YWdze1xuICAgICAgICAgIGludGVnZXIgaWRfUEtcbiAgICAgICAgICBzdHJpbmcgdGl0bGVcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlrZXN7XG4gICAgICAgICAgaW50ZWdlciBpZF9QS1xuICAgICAgICAgIGludGVnZXIgdXNlcl9pZF9GS1xuICAgICAgICAgIGludGVnZXIgY29tbWVudF9pZF9GS1xuICAgICAgICAgIH1cbiAgICAgICAgICB1c2VycyB8fC0tb3sgcHJpdmF0ZV9tZXNzYWdlczogYmVsb25nc190b1xuICAgICAgICAgIHByaXZhdGVfbWVzc2FnZXN7XG4gICAgICAgICAgaW50ZWdlciBpZF9QS1xuICAgICAgICAgIHRleHQgY29udGVudFxuICAgICAgICAgIGludGVnZXIgc2VuZGVyX2lkLVVzZXJfRktcbiAgICAgICAgICBpbnRlZ2VyIHJlY2lwaWVudF9pZC1Vc2VyX0ZLXG4gICAgICAgICAgfVxuIiwibWVybWFpZCI6e30sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiZXJEaWFncmFtXG4gICAgICAgICAgY2l0aWVzIHx8LS1veyB1c2VyczogYmVsb25nc190b1xuICAgICAgICAgIGNpdGllc3tcbiAgICAgICAgICBpbnRlZ2VyIGlkX1BLXG4gICAgICAgICAgc3RyaW5nIG5hbWVcbiAgICAgICAgICBzdHJpbmcgemlwX2NvZGVcbiAgICAgICAgICB9XG4gICAgICAgICAgdXNlcnMgfHwtLW97IGdvc3NpcHM6IGJlbG9uZ3NfdG9cbiAgICAgICAgICB1c2Vyc3tcbiAgICAgICAgICBpbnRlZ2VyIGlkX1BLXG4gICAgICAgICAgc3RyaW5nIGZpcnN0X25hbWVcbiAgICAgICAgICBzdHJpbmcgbGFzdF9uYW1lXG4gICAgICAgICAgdGV4dCBkZXNjcmlwdGlvblxuICAgICAgICAgIGludGVnZXIgYWdlXG4gICAgICAgICAgaW50ZWdlciBjaXR5X2lkX0ZLXG4gICAgICAgICAgfVxuICAgICAgICAgIGdvc3NpcHMgfHwtLW97IGNvbW1lbnRzOiBwb2x5bW9ycGhpc21cbiAgICAgICAgICBnb3NzaXBze1xuICAgICAgICAgIGludGVnZXIgaWRfUEtcbiAgICAgICAgICBzdHJpbmcgdGl0bGVcbiAgICAgICAgICB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICBpbnRlZ2VyIHVzZXJfaWRfRktcbiAgICAgICAgICBpbnRlZ2VyIHRhZ19pZF9GS1xuICAgICAgICAgIH1cbiAgICAgICAgICB1c2VycyB8fC0tb3sgY29tbWVudHM6IGJlbG9uZ3NfdG9cbiAgICAgICAgICBnb3NzaXBzIHx8LS1veyBsaWtlczogYmVsb25nc190b1xuICAgICAgICAgIGNvbW1lbnRzIHx8LS1veyBsaWtlczogYmVsb25nc190b1xuICAgICAgICAgIGNvbW1lbnRze1xuICAgICAgICAgIGludGVnZXIgaWRfUEtcbiAgICAgICAgICB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICBpbnRlZ2VyIGdvc3NpcF9pZF9GS1xuICAgICAgICAgIGludGVnZXIgdXNlcl9pZF9GS1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb21tZW50cyB8fC0tb3sgY29tbWVudHM6IHBvbHltb3JwaGlzbVxuICAgICAgICAgIHRhZ3MgfHwtLW97IGdvc3NpcHM6IGJlbG9uZ3NfdG9cbiAgICAgICAgICB0YWdze1xuICAgICAgICAgIGludGVnZXIgaWRfUEtcbiAgICAgICAgICBzdHJpbmcgdGl0bGVcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlrZXN7XG4gICAgICAgICAgaW50ZWdlciBpZF9QS1xuICAgICAgICAgIGludGVnZXIgdXNlcl9pZF9GS1xuICAgICAgICAgIGludGVnZXIgY29tbWVudF9pZF9GS1xuICAgICAgICAgIH1cbiAgICAgICAgICB1c2VycyB8fC0tb3sgcHJpdmF0ZV9tZXNzYWdlczogYmVsb25nc190b1xuICAgICAgICAgIHByaXZhdGVfbWVzc2FnZXN7XG4gICAgICAgICAgaW50ZWdlciBpZF9QS1xuICAgICAgICAgIHRleHQgY29udGVudFxuICAgICAgICAgIGludGVnZXIgc2VuZGVyX2lkLVVzZXJfRktcbiAgICAgICAgICBpbnRlZ2VyIHJlY2lwaWVudF9pZC1Vc2VyX0ZLXG4gICAgICAgICAgfVxuIiwibWVybWFpZCI6e30sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)

## Paramétrage

Pour paramétrer la base de données voici la marche à suivre :

- Faire un `bundle install`
- Ensuite, rentrer la commande `rails db:migrate`
- Puis, lancer `rails db:seed`

## Si vous voulez tester

Voici un bref rappel des commandes possibles

Notez que le champ `description` de la table `User` s'appelle ici `describtion`.
Pardon, mais quand on a vu ça c'était trop tard.

|Action|Commande|
|:---|:---|
|Afficher une table entière|`tp NomDeLaTable.all`|
|Créer une ville|`City.create(name: "nom de la ville", zip_code: "code postal")`|
|Créer un utilisateur|`User.create(first_name: "prénom", last_name: "nom de famille", describtion: "texte", age: 00, city: City.find_by(name: "nom de la ville"")`)|
|Créer un potin|`Gossip.create(title: "titre du potin", content: "texte", user: utilisateur_existant, tag: pas obligatoire - sinon tag_existant`)|
|Créer un commentaire|`Comment.create(content: "texte", user: utilisateur_existant, comment_type: gossip_existant ou comment_existant`)|
|Créer un like|`Like.create(user: utilisateur_existant, gossip: pas obligatoire - gossip_existant, comment: pas obligatoire - comment_existant)`|
|Créer un tag|`Tag.create(title: "titre")`|
|Créer un message privé|`PrivateMessage.create(sender: utilisateur_existant, recipient: utilisateur_existant, content: "texte")`|
